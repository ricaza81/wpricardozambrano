/*********************************************************************
*  #### Twitter Post Fetcher v17.0.2 ####
*  Coded by Jason Mayes 2015. A present to all the developers out there.
*  www.jasonmayes.com
*  Please keep this disclaimer with my code if you use it. Thanks. :-)
*  Got feedback or questions, ask here:
*  http://www.jasonmayes.com/projects/twitterApi/
*  Github: https://github.com/jasonmayes/Twitter-Post-Fetcher
*  Updates will be posted to this site.
*********************************************************************/
!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():t()}(0,function(){function e(e){if(null===g){for(var t=e.length,a=0,i=document.getElementById(s),n="<ul>";a<t;)n+="<li>"+e[a]+"</li>",a++;n+="</ul>",i.innerHTML=n}else g(e)}function t(e){return e.replace(/<b[^>]*>(.*?)<\/b>/gi,function(e,t){return t}).replace(/class="(?!(tco-hidden|tco-display|tco-ellipsis))+.*?"|data-query-source=".*?"|dir=".*?"|rel=".*?"/gi,"")}function a(e){for(var t=e.getElementsByTagName("a"),a=t.length-1;a>=0;a--)t[a].setAttribute("target","_blank")}function i(e,t){for(var a=[],i=new RegExp("(^| )"+t+"( |$)"),n=e.getElementsByTagName("*"),s=0,l=n.length;s<l;s++)i.test(n[s].className)&&a.push(n[s]);return a}function n(e){if(void 0!==e&&e.innerHTML.indexOf("data-srcset")>=0){var t=e.innerHTML.match(/data-srcset="([A-z0-9%_\.-]+)/i)[0];return decodeURIComponent(t).split('"')[1]}}var s="",l=20,r=!0,o=[],c=!1,d=!0,m=!0,u=null,p=!0,h=!0,g=null,w=!0,f=!1,v=!1,b=!0,_=!0,y=!1,T=null,k={fetch:function(e){if(void 0===e.maxTweets&&(e.maxTweets=20),void 0===e.enableLinks&&(e.enableLinks=!0),void 0===e.showUser&&(e.showUser=!0),void 0===e.showTime&&(e.showTime=!0),void 0===e.dateFunction&&(e.dateFunction="default"),void 0===e.showRetweet&&(e.showRetweet=!0),void 0===e.customCallback&&(e.customCallback=null),void 0===e.showInteraction&&(e.showInteraction=!0),void 0===e.showImages&&(e.showImages=!1),void 0===e.useEmoji&&(e.useEmoji=!1),void 0===e.linksInNewWindow&&(e.linksInNewWindow=!0),void 0===e.showPermalinks&&(e.showPermalinks=!0),void 0===e.dataOnly&&(e.dataOnly=!1),c)o.push(e);else{c=!0,s=e.domId,l=e.maxTweets,r=e.enableLinks,m=e.showUser,d=e.showTime,h=e.showRetweet,u=e.dateFunction,g=e.customCallback,w=e.showInteraction,f=e.showImages,v=e.useEmoji,b=e.linksInNewWindow,_=e.showPermalinks,y=e.dataOnly;var t=document.getElementsByTagName("head")[0];null!==T&&t.removeChild(T),(T=document.createElement("script")).type="text/javascript",void 0!==e.list?T.src="https://syndication.twitter.com/timeline/list?callback=__twttrf.callback&dnt=false&list_slug="+e.list.listSlug+"&screen_name="+e.list.screenName+"&suppress_response_codes=true&lang="+(e.lang||"en")+"&rnd="+Math.random():void 0!==e.profile?T.src="https://syndication.twitter.com/timeline/profile?callback=__twttrf.callback&dnt=false&screen_name="+e.profile.screenName+"&suppress_response_codes=true&lang="+(e.lang||"en")+"&rnd="+Math.random():void 0!==e.likes?T.src="https://syndication.twitter.com/timeline/likes?callback=__twttrf.callback&dnt=false&screen_name="+e.likes.screenName+"&suppress_response_codes=true&lang="+(e.lang||"en")+"&rnd="+Math.random():T.src="https://cdn.syndication.twimg.com/widgets/timelines/"+e.id+"?&lang="+(e.lang||"en")+"&callback=__twttrf.callback&suppress_response_codes=true&rnd="+Math.random(),t.appendChild(T)}},callback:function(s){function g(e){var t=e.getElementsByTagName("img")[0];return t.src=t.getAttribute("data-src-2x"),e}if(void 0===s||void 0===s.body)return c=!1,void(o.length>0&&(k.fetch(o[0]),o.splice(0,1)));v||(s.body=s.body.replace(/(<img[^c]*class="Emoji[^>]*>)|(<img[^c]*class="u-block[^>]*>)/g,"")),f||(s.body=s.body.replace(/(<img[^c]*class="NaturalImage-image[^>]*>|(<img[^c]*class="CroppedImage-image[^>]*>))/g,"")),m||(s.body=s.body.replace(/(<img[^c]*class="Avatar"[^>]*>)/g,""));var T=document.createElement("div");T.innerHTML=s.body,void 0===T.getElementsByClassName&&(p=!1);var C=[],x=[],E=[],N=[],A=[],I=[],B=[],L=0;if(p)for(M=T.getElementsByClassName("timeline-Tweet");L<M.length;)M[L].getElementsByClassName("timeline-Tweet-retweetCredit").length>0?A.push(!0):A.push(!1),(!A[L]||A[L]&&h)&&(C.push(M[L].getElementsByClassName("timeline-Tweet-text")[0]),I.push(M[L].getAttribute("data-tweet-id")),m&&x.push(g(M[L].getElementsByClassName("timeline-Tweet-author")[0])),E.push(M[L].getElementsByClassName("dt-updated")[0]),B.push(M[L].getElementsByClassName("timeline-Tweet-timestamp")[0]),void 0!==M[L].getElementsByClassName("timeline-Tweet-media")[0]?N.push(M[L].getElementsByClassName("timeline-Tweet-media")[0]):N.push(void 0)),L++;else for(var M=i(T,"timeline-Tweet");L<M.length;)i(M[L],"timeline-Tweet-retweetCredit").length>0?A.push(!0):A.push(!1),(!A[L]||A[L]&&h)&&(C.push(i(M[L],"timeline-Tweet-text")[0]),I.push(M[L].getAttribute("data-tweet-id")),m&&x.push(g(i(M[L],"timeline-Tweet-author")[0])),E.push(i(M[L],"dt-updated")[0]),B.push(i(M[L],"timeline-Tweet-timestamp")[0]),void 0!==i(M[L],"timeline-Tweet-media")[0]?N.push(i(M[L],"timeline-Tweet-media")[0]):N.push(void 0)),L++;C.length>l&&(C.splice(l,C.length-l),x.splice(l,x.length-l),E.splice(l,E.length-l),A.splice(l,A.length-l),N.splice(l,N.length-l),B.splice(l,B.length-l));var H=[],L=C.length,R=0;if(y)for(;R<L;)H.push({tweet:C[R].innerHTML,author:x[R]?x[R].innerHTML:"Unknown Author",author_data:{profile_url:x[R]?x[R].querySelector('[data-scribe="element:user_link"]').href:null,profile_image:x[R]?x[R].querySelector('[data-scribe="element:avatar"]').getAttribute("data-src-1x"):null,profile_image_2x:x[R]?x[R].querySelector('[data-scribe="element:avatar"]').getAttribute("data-src-2x"):null,screen_name:x[R]?x[R].querySelector('[data-scribe="element:screen_name"]').title:null,name:x[R]?x[R].querySelector('[data-scribe="element:name"]').title:null},time:E[R].textContent,timestamp:E[R].getAttribute("datetime").replace("+0000","Z").replace(/([\+\-])(\d\d)(\d\d)/,"$1$2:$3"),image:n(N[R]),rt:A[R],tid:I[R],permalinkURL:void 0===B[R]?"":B[R].href}),R++;else for(;R<L;){if("string"!=typeof u){var j=E[R].getAttribute("datetime"),q=new Date(E[R].getAttribute("datetime").replace(/-/g,"/").replace("T"," ").split("+")[0]),P=u(q,j);if(E[R].setAttribute("aria-label",P),C[R].textContent)if(p)E[R].textContent=P;else{var S=document.createElement("p"),U=document.createTextNode(P);S.appendChild(U),S.setAttribute("aria-label",P),E[R]=S}else E[R].textContent=P}var F="";r?(b&&(a(C[R]),m&&a(x[R])),m&&(F+='<div class="user">'+t(x[R].innerHTML)+"</div>"),F+='<p class="tweet">'+t(C[R].innerHTML)+"</p>",d&&(F+=_?'<p class="timePosted"><a href="'+B[R]+'">'+E[R].getAttribute("aria-label")+"</a></p>":'<p class="timePosted">'+E[R].getAttribute("aria-label")+"</p>")):(C[R].textContent,m&&(F+='<p class="user">'+x[R].textContent+"</p>"),F+='<p class="tweet">'+C[R].textContent+"</p>",d&&(F+='<p class="timePosted">'+E[R].textContent+"</p>")),w&&(F+='<p class="interact"><a href="https://twitter.com/intent/tweet?in_reply_to='+I[R]+'" class="twitter_reply_icon"'+(b?' target="_blank">':">")+'<i class="fa fa-reply"></i></a><a href="https://twitter.com/intent/retweet?tweet_id='+I[R]+'" class="twitter_retweet_icon"'+(b?' target="_blank">':">")+'<i class="fa fa-retweet"></i></a><a href="https://twitter.com/intent/favorite?tweet_id='+I[R]+'" class="twitter_fav_icon"'+(b?' target="_blank">':">")+"<i class='fa fa-heart'></i></a></p>"),f&&void 0!==N[R]&&void 0!==n(N[R])&&(F+='<div class="media"><img src="'+n(N[R])+'" alt="Image from tweet" /></div>'),f?H.push(F):!f&&C[R].textContent.length&&H.push(F),R++}e(H),c=!1,o.length>0&&(k.fetch(o[0]),o.splice(0,1))}};return window.__twttrf=k,window.twitterFetcher=k,k});